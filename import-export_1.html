<!DOCTYPE html>
<html
  lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:th="https://www.thymeleaf.org"
  class="background"
>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="google" content="notranslate" />
    <title>Agrotep</title>
    <link
      rel="shortcut icon"
      type="image/png"
      th:href="@{assets/images/logos/favicon.png}"
    />
    <!-- <link rel="stylesheet" th:href="@{assets/css/styles.min.css}" />
        <link rel="stylesheet" th:href="@{assets/css/addComment.css}" />
        <link rel="stylesheet" th:href="@{assets/css/import-export.css}" />
        <link rel="stylesheet" th:href="@{assets/css/settingStyle.css}" /> -->
    <link rel="stylesheet" href="assets/css/styles.min.css" />
    <link rel="stylesheet" href="assets/css/addComment.css" />
    <link rel="stylesheet" href="assets/css/import-export.css" />
    <link rel="stylesheet" href="assets/css/settingStyle.css" />
    <link
      rel="stylesheet"
      th:href="@{/assets/libs/select2-4.1.0-rc.0/dist/css/select2.css}"
    />
    <style>
      tbody,
      thead {
        text-wrap: wrap;
      }
      tr {
        height: 30px;
        padding: 0;
      }
      .bd-wrapper {
        margin-left: 270px;
      }
      .table-row {
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        margin-bottom: 15px;
      }

      .table-row:hover {
        background-color: #f8f9fa;
      }

      .table-row > div {
        padding: 10px;
        border: 1px solid #dee2e6;
      }
      .logo-img-small {
        display: none;
      }
      .side-wd {
        width: 270px !important;
      }
      .side-hide {
        display: block !important;
      }
      html {
        scroll-behavior: auto !important;
      }
      @media (max-width: 2850px) {
        .bd-wrapper {
          margin-left: 100px;
        }
        .left-sidebar {
          width: 100px;
          border-right: 1px solid #ddd;
        }
        .hide-menu {
          display: none;
        }
        .logo-img {
          display: none;
        }
        .logo-img-small {
          display: block;
        }
        .logo-img-small img {
          width: 55px;
        }
      }

      @media (max-width: 1200px) {
        .bd-wrapper {
          margin-left: 10px;
        }
        .left-sidebar {
          width: 270px;
          border-right: 1px solid #ddd;
        }
        .hide-menu {
          display: block;
        }
        .logo-img {
          display: block;
        }
        .logo-img-small {
          display: none;
        }
      }
      @media (min-width: 900px) {
        tbody,
        thead {
          text-wrap: nowrap;
        }
      }
      @media (min-width: 1200px) {
        .header {
          width: calc(100% - 100px) !important;
        }
        @media (min-width: 2850px) {
          .bd-wrapper {
            margin-left: 270px;
          }
          .header {
            width: calc(100% - 270px) !important;
          }
        }
      }
    </style>
  </head>

  <body>
    <!--  Body Wrapper -->
    <div
      class="page-wrapper background"
      id="main-wrapper"
      data-layout="vertical"
      data-navbarbg="skin6"
      data-sidebartype="full"
      data-sidebar-position="fixed"
      data-header-position="fixed"
    >
      <!-- Sidebar Start -->
      <aside class="left-sidebar background">
        <!-- Sidebar scroll-->
        <div>
          <div
            class="brand-logo d-flex align-items-center justify-content-between"
          >
            <div class="text-nowrap logo-img m">
              <img
                th:src="@{assets/images/logos/dark-logo.png}"
                src=""
                width="180"
                alt=""
              />
            </div>
            <div class="text-nowrap logo-img-small">
              <img
                src="#"
                th:src="@{assets/images/logos/favicon.png}"
                id="togl-side-btn"
                width="180"
                alt="icon"
                style="cursor: pointer"
              />
            </div>
            <div
              class="close-btn d-xl-none d-block sidebartoggler cursor-pointer"
              id="sidebarCollapse"
            >
              <i class="ti ti-x fs-8"></i>
            </div>
          </div>
          <!-- Sidebar navigation-->
          <nav class="sidebar-nav scroll-sidebar" data-simplebar="">
            <ul id="sidebarnav">
              <li class="nav-small-cap">
                <i class="ti ti-dots nav-small-cap-icon fs-4"></i>
                <span class="hide-menu">Логістика</span>
              </li>
              <li class="sidebar-item">
                <a
                  class="sidebar-link"
                  th:href="@{/import-export}"
                  aria-expanded="false"
                >
                  <span>
                    <i class="ti ti-layout-dashboard"></i>
                  </span>
                  <span class="hide-menu">Імпорт-експорт</span>
                </a>
              </li>
              <li class="sidebar-item">
                <a
                  class="sidebar-link"
                  th:href="@{/notebook}"
                  aria-expanded="false"
                >
                  <span>
                    <i class="ti ti-notebook"></i>
                  </span>
                  <span class="hide-menu">Зошит</span>
                </a>
              </li>
            </ul>
          </nav>
          <!-- End Sidebar navigation -->
        </div>
        <!-- End Sidebar scroll-->
      </aside>
      <!--  Sidebar End -->
      <!--  Main wrapper -->
      <div class="bd-wrapper">
        <!--  Header Start -->
        <header class="app-header header background">
          <nav class="navbar navbar-expand-lg navbar-light">
            <ul class="navbar-nav">
              <li class="nav-item d-block d-xl-none">
                <a
                  class="nav-link sidebartoggler nav-icon-hover"
                  id="headerCollapse"
                  href="javascript:void(0)"
                >
                  <i class="ti ti-menu-2"></i>
                </a>
              </li>
              <!--                            <li class="nav-item">-->
              <!--                                <a class="nav-link nav-icon-hover" th:href="${'/'}">-->
              <!--                                    <i class="ti ti-bell-ringing"></i>-->
              <!--                                    <div class="notification bg-primary rounded-circle"></div>-->
              <!--                                </a>-->
              <!--                            </li>-->
            </ul>
            <div
              class="navbar-collapse justify-content-end px-0"
              id="navbarNav"
            >
              <ul
                class="navbar-nav flex-row ms-auto align-items-center justify-content-end"
              >
                <li class="nav-item dropdown">
                  <a
                    class="nav-link nav-icon-hover"
                    th:href="${'/'}"
                    id="drop2"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                  >
                    <img
                      th:src="@{assets/images/profile/user-1.jpg}"
                      alt=""
                      width="35"
                      height="35"
                      class="rounded-circle"
                      src=""
                    />
                  </a>
                  <div
                    class="dropdown-menu dropdown-menu-end dropdown-menu-animate-up"
                    aria-labelledby="drop2"
                  >
                    <div class="message-body">
                      <a
                        th:href="${'/'}"
                        class="d-flex align-items-center gap-2 dropdown-item"
                      >
                        <i class="ti ti-user fs-6"></i>
                        <p class="mb-0 fs-3">Мій Профіль</p>
                      </a>
                      <a
                        th:href="${'/'}"
                        class="d-flex align-items-center gap-2 dropdown-item"
                      >
                        <i class="ti ti-list-check fs-6"></i>
                        <p class="mb-0 fs-3">Мої Задачі</p>
                      </a>
                      <a
                        th:href="${'/'}"
                        class="d-flex align-items-center gap-2 dropdown-item"
                        data-bs-toggle="modal"
                        data-bs-target="#settingsModal"
                      >
                        <i class="ti ti-settings fs-6"></i>
                        <p class="mb-0 fs-3">Мої Налаштування</p>
                      </a>
                      <form th:action="@{/logout}" method="post">
                        <input
                          class="btn btn-outline-primary mx-3 mt-2 d-block"
                          type="submit"
                          value="Вийти з системи"
                        />
                      </form>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </nav>
          <div class="form-group row" id="table-filters">
            <div class="card w-100 background" style="margin-bottom: 0">
              <div class="card-body p-4">
                <div class="accordion" id="accordionFilters">
                  <div class="accordion-item border-0 background">
                    <div class="d-flex align-items-center">
                      <span
                        class="accordion-header fs-5 cursor-pointer collapsed me-5"
                        id="headingOne"
                        data-bs-custom-class="online-popover"
                        data-bs-toggle="collapse"
                        data-bs-target="#collapseOne"
                        aria-expanded="true"
                        aria-controls="collapseOne"
                      >
                        <i class="ti ti-filter p-2"></i>
                        Фільтри
                      </span>
                      <div
                        style="
                          background-color: rgb(0, 118, 20);
                          width: 40px;
                          height: 40px;
                        "
                        class="d-flex rounded-circle text-white align-items-center justify-content-center me-2"
                        data-bs-toggle="popover"
                        data-bs-trigger="hover"
                        data-bs-placement="right"
                        data-bs-custom-class="custom-popover"
                        data-bs-title="онлайн"
                        data-bs-content="Ярослав Бєлих"
                      >
                        <span class="fw-bold fs-5">ЯБ</span>
                      </div>
                      <div
                        style="
                          background-color: rgb(193, 203, 2);
                          width: 40px;
                          height: 40px;
                        "
                        class="d-flex rounded-circle text-white align-items-center justify-content-center"
                        data-bs-toggle="popover"
                        data-bs-trigger="hover"
                        data-bs-placement="right"
                        data-bs-custom-class="custom-popover"
                        data-bs-title="11:55"
                        data-bs-content="Євген Нікітченко"
                      >
                        <span class="fw-bold fs-5">ЄН</span>
                      </div>
                    </div>
                    <div
                      id="collapseOne"
                      class="accordion-collapse collapse show"
                      aria-labelledby="headingOne"
                      data-bs-parent="#accordionFilters"
                    >
                      <div class="accordion-body">
                        <div class="row mb-3">
                          <div class="col-md-3">
                            <label for="date_from">Дата завантаження з</label>
                            <input
                              type="date"
                              class="form-control"
                              id="date_from"
                              th:value="${date_from}"
                            />
                          </div>
                          <div class="col-md-3">
                            <label for="date_to">Дата завантаження до</label>
                            <input
                              type="date"
                              class="form-control"
                              id="date_to"
                              th:value="${date_to}"
                            />
                          </div>
                          <div class="col-md-2">
                            <label
                              for="border_crossing_point"
                              class="d-flex flex-column"
                              >Погран. перехід
                              <select
                                id="border_crossing_point"
                                class="form-select"
                              >
                                <option
                                  th:each="p: ${borderCrossingPoints}"
                                  th:value="${p.ndov}"
                                  th:text="${p.ndov}"
                                  th:selected="${p.ndov.equals(border_crossing_point)}"
                                ></option>
                              </select>
                            </label>
                          </div>
                          <div class="col-md-2">
                            <label
                              for="manager_filter"
                              class="d-flex flex-column"
                            >
                              Менеджер
                              <select id="manager_filter" class="form-select">
                                <option th:value="${null}" th:text="${'---'}">
                                  ---
                                </option>
                                <option
                                  th:each="m: ${managers}"
                                  th:value="${m.shortName}"
                                  th:text="${m.fullName}"
                                  th:selected="${m.shortName.equals(manager_filter)}"
                                >
                                  Уліцький Антон Вячеславович
                                </option>
                              </select>
                            </label>
                          </div>
                          <div class="col-md-2">
                            <label
                              for="equipage_column_filter"
                              class="d-flex flex-column"
                            >
                              Колони
                              <select
                                id="equipage_column_filter"
                                class="form-select"
                              >
                                <option th:value="${null}" th:text="${'---'}">
                                  ---
                                </option>
                                <option
                                  th:each="с: ${equipage_columns}"
                                  th:value="${с}"
                                  th:text="${с}"
                                  th:selected="${с.equals(equipage_column_filter)}"
                                >
                                  Уліцький Антон Вячеславович
                                </option>
                              </select>
                            </label>
                          </div>
                        </div>
                        <div class="row"></div>
                        <div class="mb-3 form-check form-check-inline">
                          <input
                            type="checkbox"
                            class="form-check-input"
                            id="my_check"
                            th:checked="${filters != null and filters.contains('my_check')}"
                          />
                          <label class="form-check-label" for="my_check"
                            >Мої</label
                          >
                        </div>
                        <div class="mb-3 form-check form-check-inline">
                          <input
                            type="checkbox"
                            class="form-check-input"
                            id="export_check"
                            th:checked="${filters != null and filters.contains('export_check')}"
                          />
                          <label class="form-check-label" for="export_check"
                            >Експорт</label
                          >
                        </div>
                        <div class="mb-3 form-check form-check-inline">
                          <input
                            type="checkbox"
                            class="form-check-input"
                            id="import_check"
                            th:checked="${filters != null and filters.contains('import_check')}"
                          />
                          <label class="form-check-label" for="import_check"
                            >Імпорт</label
                          >
                        </div>
                        <div class="mb-3 form-check form-check-inline">
                          <input
                            type="checkbox"
                            class="form-check-input"
                            id="ua_check"
                            th:checked="${filters != null and filters.contains('ua_check')}"
                          />
                          <label class="form-check-label" for="ua_check"
                            >Україна</label
                          >
                        </div>
                        <div class="mb-3 form-check form-check-inline">
                          <input
                            type="checkbox"
                            class="form-check-input"
                            id="eu_check"
                            th:checked="${filters != null and filters.contains('eu_check')}"
                          />
                          <label class="form-check-label" for="eu_check"
                            >Європа</label
                          >
                        </div>
                        <div class="mb-3 form-check form-check-inline">
                          <input
                            type="checkbox"
                            class="form-check-input"
                            id="wo_equipage_check"
                            th:checked="${filters != null and filters.contains('wo_equipage_check')}"
                          />
                          <label
                            class="form-check-label"
                            for="wo_equipage_check"
                            >без Екіпажу</label
                          >
                        </div>
                        <div class="mb-3 form-check form-check-inline">
                          <input
                            type="checkbox"
                            class="form-check-input"
                            id="wo_cancelled_check"
                            th:checked="${filters != null and filters.contains('wo_cancelled_check')}"
                          />
                          <label
                            class="form-check-label"
                            for="wo_cancelled_check"
                          >
                            Прибрати скасовані/перенесені
                          </label>
                        </div>
                        <div class="mb-3 form-check form-check-inline">
                          <input
                            type="checkbox"
                            class="form-check-input"
                            id="is_sent_to_dr_added"
                            th:checked="${filters != null and filters.contains('is_sent_to_dr_added')}"
                          />
                          <label
                            class="form-check-label"
                            for="is_sent_to_dr_added"
                          >
                            З надісланими у ДР
                          </label>
                        </div>
                        <div
                          class="mb-3 form-check form-check-inline named-filter"
                          th:each="filter: ${namedFilters}"
                        >
                          <label
                            class="form-check-label cursor-pointer"
                            data-bs-trigger="hover"
                            data-bs-toggle="popover"
                            data-bs-placement="bottom"
                            th:attr="data-bs-content=${filter.countriesFrom + ' - ' + filter.countriesTo}"
                          >
                            <input
                              type="checkbox"
                              class="form-check-input"
                              th:checked="${filters != null and filters.contains(filter.title.toLowerCase())}"
                              id="named-filter-input"
                              data-bs-trigger="hover"
                              data-bs-toggle="popover"
                              data-bs-placement="bottom"
                              th:attr="id=${filter.title}"
                            />
                            <span th:text="${filter.title}">ua_pl</span>
                          </label>
                          <span
                            class="delete-icon cursor-pointer"
                            title="Видалити"
                            th:attr="data-filter-id=${filter.title}"
                          >
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              width="16"
                              height="16"
                              fill="black"
                              class="bi bi-trash"
                              viewBox="0 0 16 16"
                            >
                              <path
                                d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"
                              />
                              <path
                                d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"
                              />
                            </svg>
                          </span>
                        </div>
                        <div class="card-body p-4 w">
                          <button
                            type="button"
                            class="btn btn-light m-1"
                            id="showModalBtn"
                            data-bs-toggle="modal"
                            data-bs-target="#filtersModal"
                          >
                            Додати фільтр
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </header>
        <!--  Header End -->
        <div class="container-fluid" style="padding-top: 150px !important">
          <!--  Row 1 -->
          <!--  Row 2 -->
          <div
            class="row"
            th:each="transportation, iDate: ${transportations}"
            id="transportations-div"
          >
            <div class="col-lg-12 d-flex align-items-stretch p-0">
              <div class="card w-100 background mb-0">
                <divS
                  th:if="${iDate.index == 0}"
                  class="d-flex align-items-center gap-2 dropdown-item justify-content-end p-3"
                >
                  <p
                    class="mb-0 fs-3 d-flex align-items-center cursor-pointer hide-all"
                  >
                    Сховати все
                    <i class="ti ti-eye-off fs-6 ms-2 cu"></i>
                  </p>
                  <p
                    class="mb-0 fs-3 d-flex align-items-center cursor-pointer show-all"
                  >
                    Показати все
                    <i class="ti ti-eye fs-6 ms-2 cu"></i>
                  </p>
                  <p
                    class="mb-0 fs-3 d-flex align-items-center cursor-pointer"
                    data-bs-toggle="modal"
                    data-bs-target="#settingsTableModal"
                  >
                    Налаштування таблиці
                    <i class="ti ti-settings fs-6 ms-2 cu"></i>
                  </p>
                </divS>
                <div
                  class="card-body p-0 pt-0 pb-0 d-flex flex-wrap justify-content-between"
                >
                  <div class="accordion accordion-table w-100">
                    <div class="accordion-item">
                      <div class="accordion-header d-flex background">
                        <span
                          class="card-title fw-semibold p-3 m-0 ms-3 text-nowrap"
                          th:text="${transportation.key}"
                        >
                          20.12.2023
                        </span>
                        <a
                          th:href="@{/transportation-details/add(loadingDate=${transportation.key})}"
                          class="btn fs-5 p-1 mt-2"
                          style="border-radius: 50%"
                          data-bs-trigger="hover"
                          data-bs-toggle="popover"
                          data-bs-placement="top"
                          data-bs-content="Створити нове замовлення"
                        >
                          <i class="ti ti-truck fs-7 text-dark"></i>
                        </a>
                        <form
                          th:action="${'/transportation-details/empty'}"
                          method="get"
                        >
                          <button
                            type="submit"
                            class="btn fs-5 p-1 ms-4 mt-2"
                            style="border-radius: 50%"
                            data-bs-trigger="hover"
                            data-bs-toggle="popover"
                            data-bs-placement="top"
                            data-bs-content="Створити порожню подачу"
                          >
                            <i class="ti ti-wash-dry fs-7 text-dark"></i>
                          </button>
                        </form>
                        <button
                          class="background accordion-button ps-0 pt-0 pb-0 shadow-none"
                          type="button"
                          data-bs-toggle="collapse"
                          aria-expanded="true"
                          th:attr="aria-controls=${transportation.key.replace(' ','')}, data-bs-target=${'#' + transportation.key.replace(' ','')}"
                        ></button>
                      </div>
                      <div
                        th:attr="id=${transportation.key.replace(' ','')}"
                        class="accordion-collapse collapse show background"
                      >
                        <div class="accordion-body p-0">
                          <div class="table-responsive">
                            <table
                              class="table table-sm text-nowrap mb-0 align-middle"
                              id="your-table-id"
                            >
                              <thead>
                                <tr>
                                  <th></th>
                                  <th></th>
                                  <th></th>
                                  <th></th>
                                  <th></th>
                                  <th></th>
                                  <th class="text-center">
                                    <svg
                                      xmlns="http://www.w3.org/2000/svg"
                                      class="icon icon-tabler icon-tabler-pencil"
                                      width="24"
                                      height="24"
                                      viewBox="0 0 24 24"
                                      stroke-width="2"
                                      stroke="currentColor"
                                      fill="none"
                                      stroke-linecap="round"
                                      stroke-linejoin="round"
                                      data-bs-trigger="hover"
                                      data-bs-toggle="popover"
                                      data-bs-placement="top"
                                      data-bs-content="Вибір екіпажу"
                                    >
                                      <path
                                        stroke="none"
                                        d="M0 0h24v24H0z"
                                        fill="none"
                                      />
                                      <path
                                        d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4"
                                      />
                                      <path d="M13.5 6.5l4 4" />
                                    </svg>
                                  </th>
                                  <th class="text-center">
                                    <svg
                                      xmlns="http://www.w3.org/2000/svg"
                                      class="icon icon-tabler icon-tabler-pencil"
                                      width="24"
                                      height="24"
                                      viewBox="0 0 24 24"
                                      stroke-width="2"
                                      stroke="currentColor"
                                      fill="none"
                                      stroke-linecap="round"
                                      stroke-linejoin="round"
                                      data-bs-trigger="hover"
                                      data-bs-toggle="popover"
                                      data-bs-placement="top"
                                      data-bs-content="Додати примітки"
                                    >
                                      <path
                                        stroke="none"
                                        d="M0 0h24v24H0z"
                                        fill="none"
                                      />
                                      <path
                                        d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4"
                                      />
                                      <path d="M13.5 6.5l4 4" />
                                    </svg>
                                  </th>
                                </tr>
                              </thead>
                              <tbody style="color: black">
                                <tr
                                  th:each="truck, iStat: ${transportation.value}"
                                  th:if="${truck.id}"
                                  th:style="${'btn-danger'.equals(truck.severity) ? 'background-color: rgba(255, 0, 0, 0.553)' : truck.directionColor}"
                                  class="dropend"
                                >
                                  <td
                                    class="border border-1 border-dark-subtle"
                                    data-bs-toggle="dropdown"
                                    aria-expanded="false"
                                  >
                                    <p class="mb-0">
                                      <span th:text="${iStat.index + 1}"
                                        >1</span
                                      >
                                      <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        viewBox="0 0 100 100"
                                        style="width: 25px; height: 25px"
                                        th:if="${truck.isSentToDr}"
                                      >
                                        <text
                                          x="5"
                                          y="55"
                                          font-family="Arial"
                                          font-size="50"
                                          font-weight="bold"
                                          th:attr="fill=${'ВПТ'.equals(truck.domesticCompany) ? 'red' : 'blue'}"
                                        >
                                          D
                                        </text>
                                        <text
                                          x="37"
                                          y="70"
                                          font-family="Arial"
                                          font-size="50"
                                          font-weight="bold"
                                          th:attr="fill=${'ВПТ'.equals(truck.domesticCompany) ? 'red' : 'blue'}"
                                        >
                                          R
                                        </text>
                                      </svg>
                                    </p>
                                    <span
                                      class="delete-icon"
                                      title="Видалити"
                                      th:if="${truck.clientCompany == null and truck.isSentToDr != true}"
                                      th:attr="data-truck-id=${truck.id}"
                                    >
                                      <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        width="16"
                                        height="16"
                                        fill="black"
                                        class="bi bi-trash"
                                        viewBox="0 0 16 16"
                                      >
                                        <path
                                          d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"
                                        />
                                        <path
                                          d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"
                                        />
                                      </svg>
                                    </span>
                                    <div class="dropdown-menu p-1">
                                      <span
                                        class="dropdown-item p-0 ps-1 pe-1 copy-transportation"
                                        th:attr="data-id=${truck.id}"
                                      >
                                        Копіювати замовлення
                                      </span>
                                    </div>
                                  </td>
                                  <td
                                    class="border border-1 border-dark-subtle"
                                  >
                                    <a
                                      th:unless="${truck.clientCompany == null}"
                                      class="mb-1 text-black"
                                      th:href="${'/transportation-details/update/' + truck.id}"
                                      th:text="${truck.direction}"
                                    >
                                      Berlin, DE - Київ, UA
                                    </a>
                                    <span
                                      th:if="${truck.clientCompany == null}"
                                      class="mb-1 text-black"
                                      th:text="${truck.direction}"
                                    >
                                      Berlin, DE - Київ, UA
                                    </span>
                                  </td>
                                  <td
                                    class="border border-1 border-dark-subtle"
                                  >
                                    <span th:text="${truck.equipageType}"
                                      >реф</span
                                    >
                                  </td>
                                  <td
                                    class="border border-1 border-dark-subtle"
                                  >
                                    <p
                                      class="mb-0"
                                      th:text="${truck.managerName}"
                                    >
                                      Антон Улицький
                                    </p>
                                  </td>
                                  <td
                                    class="border border-1 border-dark-subtle"
                                  >
                                    <a
                                      th:unless="${truck.clientCompany == null}"
                                      class="mb-1 text-black"
                                      th:href="${'/transportation-details/update/' + truck.id}"
                                    >
                                      <span
                                        th:text="${truck.clientCompany.clientShortName + ', ' + (truck.cargo != null ? truck.cargo : '')}"
                                      >
                                        Fererro, шоколад
                                      </span>
                                    </a>
                                    <span
                                      th:if="${truck.clientCompany == null}"
                                      th:text="${truck.cargo}"
                                    >
                                      шоколад
                                    </span>
                                  </td>
                                  <td
                                    class="border border-1 border-dark-subtle"
                                  >
                                    <span
                                      th:if="${truck.isAdr}"
                                      class="text-danger"
                                      >ADR</span
                                    >
                                    <span
                                      th:if="${truck.isAdr1}"
                                      class="text-danger"
                                      >ADR1</span
                                    >
                                    <span
                                      th:if="${truck.isTir}"
                                      class="text-black"
                                      >TIR</span
                                    >
                                    <span th:text="${truck.conditions}">
                                      +10 +12 завантаження о 10:00
                                    </span>
                                    <label>
                                      <input
                                        th:value="${truck.coordinatorComment}"
                                        oninput="resizeInput(this)"
                                        type="text"
                                        style="
                                          background-color: inherit;
                                          outline: none;
                                          border: none;
                                        "
                                        class="table-input coordinator-comment"
                                      />
                                    </label>
                                  </td>
                                  <td
                                    class="border border-1 border-dark-subtle"
                                    th:classappend="${truck.wasEquipageChanged == true ? 'changed-equipage' : ''}"
                                  >
                                    <a
                                      class="mb-1 text-black"
                                      th:unless="${truck.clientCompany == null}"
                                      th:href="${'/truck/' + truck.id} + '?filters=wo_next_loading,%20&radius_filter=300'"
                                    >
                                      <span
                                        th:if="${truck.equipage != null
                                                                                and truck.equipage.length() >= 6}"
                                        th:text="${truck.equipage.substring(2, 6) + ' '
                                                                                + (truck.driver != null && !truck.driver.isEmpty() ? truck.driver : '')}"
                                      >
                                        11546 Михно
                                      </span>
                                      <span
                                        th:if="${truck.driver == null and truck.equipage == null or truck.transportationComment != null}"
                                        th:text="${truck.transportationComment}"
                                      >
                                        скасовано
                                      </span>
                                      <span
                                        th:if="${truck.driver == null and truck.equipage == null
                                                                                and (truck.transportationComment == null or truck.transportationComment.isEmpty())}"
                                      >
                                        Без екіпажу
                                      </span>
                                    </a>
                                    <span
                                      th:if="${truck.clientCompany == null and truck.equipage != null
                                                                            and truck.equipage.length() >= 6}"
                                      th:text="${truck.equipage.substring(2, 6) + ' '
                                                                            + (truck.driver != null && !truck.driver.isEmpty() ? truck.driver : '')}"
                                    >
                                      11546 Михно
                                    </span>
                                    <span
                                      th:if="${truck.clientCompany == null
                                                                            and (truck.driver == null and truck.equipage == null or truck.transportationComment != null)}"
                                      th:text="${truck.transportationComment}"
                                    >
                                      скасовано
                                    </span>
                                    <span
                                      th:if="${truck.clientCompany == null and truck.driver == null and truck.equipage == null
                                                                            and (truck.transportationComment == null or truck.transportationComment.isEmpty())}"
                                    >
                                      Без екіпажу
                                    </span>
                                  </td>
                                  <td
                                    class="border border-1 border-dark-subtle comment"
                                  >
                                    <span
                                      hidden="hidden"
                                      class="truck-id"
                                      th:text="${truck.id}"
                                    ></span>
                                    <label>
                                      <input
                                        th:value="${truck.comment}"
                                        class="comment table-input"
                                        oninput="resizeInput(this)"
                                        type="text"
                                        style="
                                          background-color: inherit;
                                          outline: none;
                                          border: none;
                                        "
                                      />
                                    </label>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                        <div
                          class="field-block m-2"
                          th:each="alert: ${alerts.get(transportation.key)}"
                        >
                          <label>
                            <input
                              hidden="hidden"
                              type="text"
                              class="text-field alert-id"
                              th:value="${alert.id}"
                            />
                          </label>
                          <!--                                                    do not add label for this input-->
                          <input
                            type="text"
                            class="text-field alert-text"
                            th:value="${alert.text}"
                            data-bs-trigger="hover"
                            data-bs-toggle="popover"
                            data-bs-placement="bottom"
                            th:attr="data-bs-content=${alert.managerName}"
                            th:disabled="${not #authentication.getPrincipal().username.equals(alert.managerLogin)}"
                          />
                          <span
                            class="delete-icon"
                            title="Видалити"
                            th:if="${#authentication.getPrincipal().username.equals(alert.managerLogin)}"
                          >
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              width="16"
                              height="16"
                              fill="black"
                              class="bi bi-trash"
                              viewBox="0 0 16 16"
                            >
                              <path
                                d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"
                              />
                              <path
                                d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"
                              />
                            </svg>
                          </span>
                        </div>
                        <div class="comment-btn w-20">
                          <button
                            class="btn p-0 pt-3 m-0"
                            th:attr="data-date=${transportation.key}"
                          >
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              width="20"
                              height="20"
                              fill="currentColor"
                              class="bi bi-file-earmark-plus"
                              style="margin-right: 10px"
                              viewBox="0 0 16 16"
                              data-bs-trigger="hover"
                              data-bs-toggle="popover"
                              data-bs-placement="right"
                              data-bs-content="Додати потреби"
                            >
                              <path
                                d="M8 6.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 .5-.5"
                              />
                              <path
                                d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5z"
                              />
                            </svg>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div
          class="modal fade"
          id="settingsModal"
          tabindex="-1"
          aria-labelledby="settingsModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog" style="max-width: 700px">
            <div class="modal-content p-4">
              <form
                action="#"
                th:action="@{/design/font}"
                th:object="${fontDto}"
                method="post"
                class="text-center row"
                id="fontModalForm"
              >
                <div class="modal-header">
                  <h4 class="modal-title fs-7" id="settingsModalLabel">
                    Налаштування інтерфейсу
                  </h4>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body row">
                  <div class="font-size-block col-sm-6 text-center mt-3">
                    <h5 class="mb-3">Розмір шрифту</h5>
                    <label
                      class="m-2"
                      th:each="i: ${T(java.util.List).of(1, 2, 3, 4, 5)}"
                    >
                      <span th:text="${i}">1</span>
                      <input hidden="hidden" type="text" th:field="*{page}" />
                      <input hidden="hidden" type="text" th:field="*{id}" />
                      <input
                        class="ms-1"
                        type="radio"
                        name="fontSize"
                        th:attr="id=${'fs-' + (i + 1)}"
                        th:value="${'fs-' + (i + 1)}"
                        th:field="*{fontSize}"
                      />
                    </label>
                  </div>
                  <div class="font-weight-block col-sm-6 text-center mt-3">
                    <h5 class="mb-3">Насиченість шрифту</h5>
                    <label
                      class="m-2"
                      th:each="s, iStat: ${T(java.util.List).of('fw-lighter', 'fw-normal', 'fw-bolder')}"
                    >
                      <span th:text="${fontDto.getTitle(s)}"></span>
                      <input
                        class="ms-1"
                        type="radio"
                        name="fontWeight"
                        th:attr="id=${'font-weight' + iStat.index}"
                        th:value="${s}"
                        th:field="*{fontWeight}"
                      />
                    </label>
                  </div>
                  <div class="background-variants-block mt-3 text-center">
                    <h5 class="mb-3">Налаштування кольору фону</h5>
                    <label
                      th:attr="for=${c}"
                      class="m-2"
                      th:each="c, iStat: ${T(java.util.List).of('background-blue', 'background-green',
                                            'background-red', 'background-lightgrey', 'background-darkgrey',
                                            'background-brown', 'background-violet', 'background-default')}"
                    >
                      <span th:text="${fontDto.getColor(c)}">синій</span>
                      <input
                        class="ms-1"
                        type="radio"
                        name="backgroundColor"
                        th:attr="id=${c}"
                        th:value="${c}"
                        th:field="*{backgroundColor}"
                      />
                    </label>
                  </div>
                </div>
                <div class="modal-footer">
                  <button type="submit" class="btn btn-primary">
                    Save changes
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
        <div
          class="modal fade"
          id="settingsTableModal"
          tabindex="-1"
          aria-labelledby="settingsTableModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog" style="max-width: 700px">
            <div class="modal-content p-4">
              <form
                action="#"
                th:action="@{/design/import-export/table}"
                th:object="${mainTableDesignFilterDto}"
                method="post"
                class="text-center row"
                id="tableDesignModalForm"
              >
                <div class="modal-header">
                  <h4 class="modal-title fs-7" id="settingsTableModalLabel">
                    Налаштування інтерфейсу
                  </h4>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body row">
                  <div class="style-color-block text-center mt-3">
                    <h5 class="mb-3">Налаштування вигляду таблиці</h5>
                    <label for="colorCheckbox" class="m-2">
                      зафарбованість таблиці
                      <input
                        class="ms-1"
                        type="checkbox"
                        id="colorCheckbox"
                        onchange="toggleColor()"
                        th:field="${mainTableDesignFilterDto.isNotColored}"
                      />
                    </label>
                    <label for="typeTable" class="m-2"
                      >розмір таблиці
                      <input
                        class="ms-1"
                        type="checkbox"
                        id="typeTable"
                        th:field="${mainTableDesignFilterDto.isBigTableType}"
                    /></label>
                    <label for="borderDriver" class="m-2"
                      >вигляд екіпажу
                      <input
                        class="ms-1"
                        type="checkbox"
                        id="borderDriver"
                        th:field="${mainTableDesignFilterDto.hasEquipageBorder}"
                      />
                    </label>
                    <label for="bordersCheck" class="m-2"
                      >рамки
                      <input
                        class="ms-1"
                        type="checkbox"
                        id="bordersCheck"
                        th:field="${mainTableDesignFilterDto.areBordersAbsent}"
                      />
                    </label>
                  </div>
                  <div class="hiden-colums-block text-center mt-3">
                    <h5 class="mb-3">Налаштування відображення колонок</h5>
                    <label for="numberCheck" class="m-2"
                      >нумерація
                      <input
                        class="ms-1"
                        type="checkbox"
                        id="numberCheck"
                        th:field="${mainTableDesignFilterDto.isNumberingVisible}"
                      />
                    </label>
                    <label for="routeCheck" class="m-2"
                      >маршрут
                      <input
                        class="ms-1"
                        type="checkbox"
                        id="routeCheck"
                        th:field="${mainTableDesignFilterDto.isDirectionVisible}"
                      />
                    </label>
                    <label for="truckTypeCheck" class="m-2"
                      >тип авто
                      <input
                        th:field="${mainTableDesignFilterDto.isTruckTypeVisible}"
                        class="ms-1"
                        type="checkbox"
                        id="truckTypeCheck"
                    /></label>
                    <label for="managerCheck" class="m-2"
                      >менеджер
                      <input
                        th:field="${mainTableDesignFilterDto.isManagerVisible}"
                        class="ms-1"
                        type="checkbox"
                        id="managerCheck"
                    /></label>
                    <label for="clientCheck" class="m-2"
                      >клієнт
                      <input
                        th:field="${mainTableDesignFilterDto.isClientVisible}"
                        class="ms-1"
                        type="checkbox"
                        id="clientCheck"
                      />
                    </label>
                    <label for="infoCheck" class="m-2"
                      >інформація
                      <input
                        class="ms-1"
                        type="checkbox"
                        id="infoCheck"
                        th:field="${mainTableDesignFilterDto.isConditionAndCoordinatorCommentVisible}"
                      />
                    </label>
                    <label for="crewCheck" class="m-2"
                      >екіпаж
                      <input
                        class="ms-1"
                        type="checkbox"
                        id="crewCheck"
                        th:field="${mainTableDesignFilterDto.isEquipageAndTransportationCommentVisible}"
                      />
                    </label>
                    <label for="commentCheck" class="m-2"
                      >коментар
                      <input
                        th:field="${mainTableDesignFilterDto.isCommentVisible}"
                        class="ms-1"
                        type="checkbox"
                        id="commentCheck"
                      />
                    </label>
                  </div>
                </div>
                <div class="modal-footer">
                  <button type="submit" class="btn btn-primary">
                    Зберегти налаштування
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
        <div
          class="modal fade"
          id="filtersModal"
          tabindex="-1"
          aria-labelledby="filtersModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog" style="max-width: 100vw">
            <div class="modal-content p-4">
              <div class="modal-header">
                <h5 class="modal-title fs-5" id="filtersModalLabel">
                  Назва фільтру
                </h5>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>
              <div class="modal-body">
                <form
                  action="#"
                  th:action="@{/import-export/filter/edit}"
                  th:object="${namedFilterDto}"
                  method="post"
                  id="modalForm"
                  class="d-flex flex-column align-items-center w-100"
                >
                  <div class="mb-3">
                    <label for="nameFilter">
                      <input
                        class="form-control-sm"
                        type="text"
                        id="nameFilter"
                        placeholder="назва фільтру"
                        th:field="*{title}"
                        required
                      />
                    </label>
                  </div>
                  <div
                    class="d-flex justify-content-evenly"
                    style="width: 100%"
                  >
                    <div class="d-flex flex-column flex-lg-row column-gap-4">
                      <div
                        style="width: 50px"
                        th:if="${countries != null and not countries.isEmpty()}"
                      >
                        <label
                          th:each="c, itemStat: ${countries.subList(0, T(java.lang.Math).min(countries.size(), 10))}"
                          data-bs-trigger="hover"
                          data-bs-toggle="popover"
                          data-bs-placement="bottom"
                          th:attr="data-bs-content=${c.nkraina}"
                        >
                          <input
                            type="checkbox"
                            th:field="*{maskCountriesFrom[__${itemStat.index}__]}"
                            th:attr="name=${c.idgmap + '-from'}, id=${c.idgmap + '-from'}"
                          />
                          <span th:text="${c.idgmap}">BA</span>
                        </label>
                      </div>
                      <div
                        style="width: 50px"
                        th:if="${countries != null and countries.size() > 10}"
                      >
                        <label
                          th:each="c, itemStat: ${countries.subList(10, T(java.lang.Math).min(countries.size(), 20))}"
                          data-bs-trigger="hover"
                          data-bs-toggle="popover"
                          data-bs-placement="bottom"
                          th:attr="data-bs-content=${c.nkraina}"
                        >
                          <input
                            type="checkbox"
                            th:field="*{maskCountriesFrom[__${itemStat.index + 10}__]}"
                            th:attr="name=${c.idgmap + '-from'}, id=${c.idgmap + '-from'}"
                          />
                          <span th:text="${c.idgmap}">BA</span>
                        </label>
                      </div>
                      <div
                        style="width: 50px"
                        th:if="${countries != null and countries.size() > 20}"
                      >
                        <label
                          th:each="c, itemStat: ${countries.subList(20, T(java.lang.Math).min(countries.size(), 30))}"
                          data-bs-trigger="hover"
                          data-bs-toggle="popover"
                          data-bs-placement="bottom"
                          th:attr="data-bs-content=${c.nkraina}"
                        >
                          <input
                            type="checkbox"
                            th:field="*{maskCountriesFrom[__${itemStat.index + 20}__]}"
                            th:attr="name=${c.idgmap + '-from'}, id=${c.idgmap + '-from'}"
                          />
                          <span th:text="${c.idgmap}">BA</span>
                        </label>
                      </div>
                      <div
                        style="width: 50px"
                        th:if="${countries != null and countries.size() > 30}"
                      >
                        <label
                          th:each="c, itemStat: ${countries.subList(30, T(java.lang.Math).min(countries.size(), 40))}"
                          data-bs-trigger="hover"
                          data-bs-toggle="popover"
                          data-bs-placement="bottom"
                          th:attr="data-bs-content=${c.nkraina}"
                        >
                          <input
                            type="checkbox"
                            th:field="*{maskCountriesFrom[__${itemStat.index + 30}__]}"
                            th:attr="name=${c.idgmap + '-from'}, id=${c.idgmap + '-from'}"
                          />
                          <span th:text="${c.idgmap}">BA</span>
                        </label>
                      </div>
                      <div
                        style="width: 50px"
                        th:if="${countries != null and countries.size() > 40}"
                      >
                        <label
                          th:each="c, itemStat: ${countries.subList(40, T(java.lang.Math).min(countries.size(), 50))}"
                          data-bs-trigger="hover"
                          data-bs-toggle="popover"
                          data-bs-placement="bottom"
                          th:attr="data-bs-content=${c.nkraina}"
                        >
                          <input
                            type="checkbox"
                            th:field="*{maskCountriesFrom[__${itemStat.index + 40}__]}"
                            th:attr="name=${c.idgmap + '-from'}, id=${c.idgmap + '-from'}"
                          />
                          <span th:text="${c.idgmap}">BA</span>
                        </label>
                      </div>
                      <div
                        style="width: 50px"
                        th:if="${countries != null and countries.size() > 50}"
                      >
                        <label
                          th:each="c, itemStat: ${countries.subList(50, T(java.lang.Math).min(countries.size(), 60))}"
                          data-bs-trigger="hover"
                          data-bs-toggle="popover"
                          data-bs-placement="bottom"
                          th:attr="data-bs-content=${c.nkraina}"
                        >
                          <input
                            type="checkbox"
                            th:field="*{maskCountriesFrom[__${itemStat.index + 50}__]}"
                            th:attr="name=${c.idgmap + '-from'}, id=${c.idgmap + '-from'}"
                          />
                          <span th:text="${c.idgmap}">BA</span>
                        </label>
                      </div>
                    </div>
                    <div style="width: 1px; background-color: darkgrey"></div>
                    <div class="d-flex flex-column flex-lg-row column-gap-4">
                      <div
                        style="width: 50px"
                        th:if="${countries != null and not countries.isEmpty()}"
                      >
                        <label
                          th:each="c, itemStat: ${countries.subList(0, T(java.lang.Math).min(countries.size(), 10))}"
                          data-bs-trigger="hover"
                          data-bs-toggle="popover"
                          data-bs-placement="bottom"
                          th:attr="data-bs-content=${c.nkraina}"
                        >
                          <input
                            type="checkbox"
                            th:field="*{maskCountriesTo[__${itemStat.index}__]}"
                            th:attr="name=${c.idgmap + '-to'}, id=${c.idgmap + '-to'}"
                          />
                          <span th:text="${c.idgmap}">BA</span>
                        </label>
                      </div>
                      <div
                        style="width: 50px"
                        th:if="${countries != null and countries.size() > 10}"
                      >
                        <label
                          th:each="c, itemStat: ${countries.subList(10, T(java.lang.Math).min(countries.size(), 20))}"
                          data-bs-trigger="hover"
                          data-bs-toggle="popover"
                          data-bs-placement="bottom"
                          th:attr="data-bs-content=${c.nkraina}"
                        >
                          <input
                            type="checkbox"
                            th:field="*{maskCountriesTo[__${itemStat.index + 10}__]}"
                            th:attr="name=${c.idgmap + '-to'}, id=${c.idgmap + '-to'}"
                          />
                          <span th:text="${c.idgmap}">BA</span>
                        </label>
                      </div>
                      <div
                        style="width: 50px"
                        th:if="${countries != null and countries.size() > 20}"
                      >
                        <label
                          th:each="c, itemStat: ${countries.subList(20, T(java.lang.Math).min(countries.size(), 30))}"
                          data-bs-trigger="hover"
                          data-bs-toggle="popover"
                          data-bs-placement="bottom"
                          th:attr="data-bs-content=${c.nkraina}"
                        >
                          <input
                            type="checkbox"
                            th:field="*{maskCountriesTo[__${itemStat.index + 20}__]}"
                            th:attr="name=${c.idgmap + '-to'}, id=${c.idgmap + '-to'}"
                          />
                          <span th:text="${c.idgmap}">BA</span>
                        </label>
                      </div>
                      <div
                        style="width: 50px"
                        th:if="${countries != null and countries.size() > 30}"
                      >
                        <label
                          th:each="c, itemStat: ${countries.subList(30, T(java.lang.Math).min(countries.size(), 40))}"
                          data-bs-trigger="hover"
                          data-bs-toggle="popover"
                          data-bs-placement="bottom"
                          th:attr="data-bs-content=${c.nkraina}"
                        >
                          <input
                            type="checkbox"
                            th:field="*{maskCountriesTo[__${itemStat.index + 30}__]}"
                            th:attr="name=${c.idgmap + '-to'}, id=${c.idgmap + '-to'}"
                          />
                          <span th:text="${c.idgmap}">BA</span>
                        </label>
                      </div>
                      <div
                        style="width: 50px"
                        th:if="${countries != null and countries.size() > 40}"
                      >
                        <label
                          th:each="c, itemStat: ${countries.subList(40, T(java.lang.Math).min(countries.size(), 50))}"
                          data-bs-trigger="hover"
                          data-bs-toggle="popover"
                          data-bs-placement="bottom"
                          th:attr="data-bs-content=${c.nkraina}"
                        >
                          <input
                            type="checkbox"
                            th:field="*{maskCountriesTo[__${itemStat.index + 40}__]}"
                            th:attr="name=${c.idgmap + '-to'}, id=${c.idgmap + '-to'}"
                          />
                          <span th:text="${c.idgmap}">BA</span>
                        </label>
                      </div>
                    </div>
                  </div>
                  <button
                    class="btn btn-success mt-5"
                    style="width: 150px"
                    type="submit"
                  >
                    Створити фільтр
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script defer="defer" th:inline="javascript">
      /*<![CDATA[*/
      const namedFilters = /*[[${namedFilters}]]*/ null;
      const countries = /*[[${countries}]]*/ null;
      const border_crossing_point = /*[[${border_crossing_point}]]*/ null;
      /*]]>*/
    </script>

    <script th:src="@{assets/libs/jquery/dist/jquery.min.js}"></script>
    <script src="assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script
      th:src="@{/assets/libs/select2-4.1.0-rc.0/dist/js/select2.min.js}"
    ></script>
    <script th:src="@{assets/js/sidebarmenu.js}"></script>
    <script th:src="@{assets/js/app.min.js}"></script>
    <script th:src="@{assets/libs/simplebar/dist/simplebar.js}"></script>
    <script>
      function redirectToLink() {
        window.location.href = 'add-transportation-details';
      }

      function redirectToLink1() {
        window.location.href = 'truck';
      }
    </script>
    <script>
      var popoverTriggerList = [].slice.call(
        document.querySelectorAll('[data-bs-toggle="popover"]')
      );
      var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
        return new bootstrap.Popover(popoverTriggerEl);
      });
    </script>
    <script>
      var inputs = document.querySelectorAll('.table-input');
      inputs.forEach(function (input) {
        input.addEventListener('input', function () {
          resizeInput(this);
          initializeInputSize(this);
        });
      });

      function initializeInputSize(input) {
        var textLength = input.value.length + 1;
        input.setAttribute('size', textLength);
      }

      function resizeInput(input) {
        var textLength = input.value.length;
        input.setAttribute('size', textLength);
      }

      // Викликати initializeInputSize() для кожного елемента після завантаження сторінки
      inputs.forEach(initializeInputSize);
    </script>
    <script defer="defer" th:src="@{assets/js/addComment.js}"></script>
    <script defer="defer" th:src="@{assets/js/filtering.js}"></script>
    <script defer="defer" th:src="@{assets/js/import-export.js}"></script>
    <script defer="defer" th:src="@{assets/js/settingsStyle.js}"></script>
    <script
      defer="defer"
      th:src="@{assets/js/settingsTableImportExport.js}"
    ></script>
    <script>
      //let cords = ['scrollX', 'scrollY'];
      //window.addEventListener('unload', e => cords.forEach(cord => localStorage[cord] = window[cord]));
      //window.scroll(...cords.map(cord => localStorage[cord]));

      let cords = ['scrollX', 'scrollY'];
      window.addEventListener('unload', (e) =>
        cords.forEach((cord) => (localStorage[cord] = window[cord]))
      );

      document.addEventListener('DOMContentLoaded', () => {
        window.scroll({
          left: localStorage['scrollX'],
          top: localStorage['scrollY'],
          behavior: 'auto', // 'auto' отключает плавный переход
        });
      });
    </script>
  </body>
</html>
