<!DOCTYPE html>
<html
  lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:th="https://www.thymeleaf.org"
>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Agrotep</title>
    <link
      rel="shortcut icon"
      type="image/png"
      href="assets/images/logos/favicon.png"
    />
    <link rel="stylesheet" href="assets/css/styles.min.css" />
    <link rel="stylesheet" href="assets/css/settingStyle.css" />
    <script defer src="assets/libs/jquery/dist/jquery.min.js"></script>
    <script src="assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script defer src="/assets/js/sidebarmenu.js"></script>
    <script defer src="/assets/js/app.min.js"></script>
    <script defer th:src="@{/assets/libs/simplebar/dist/simplebar.js}"></script>
    <script
      defer
      th:src="@{/assets/libs/select2-4.1.0-rc.0/dist/js/select2.min.js}"
    ></script>
    <script
      defer="defer"
      th:src="@{/assets/js/update-transportation-details.js}"
    ></script>
    <script defer="defer" th:inline="javascript">
      /*<![CDATA[*/
      const loadingTypes = /*[[${loadingTypes}]]*/ null;
      const unloadingTypes = /*[[${unloadingTypes}]]*/ null;
      const loadingTypesMap = /*[[${loadingTypesMap}]]*/ null;
      /*]]>*/
    </script>
    <style>
      tbody,
      thead {
        text-wrap: wrap;
      }
      tr {
        height: 30px;
        padding: 0;
      }
      .bd-wrapper {
        margin-left: 270px;
      }
      .table-row {
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        margin-bottom: 15px;
      }

      .table-row:hover {
        background-color: #f8f9fa;
      }

      .table-row > div {
        padding: 10px;
        border: 1px solid #dee2e6;
      }
      .logo-img-small {
        display: none;
      }
      .side-wd {
        width: 270px !important;
      }
      .side-hide {
        display: block !important;
      }
      @media (max-width: 2850px) {
        .bd-wrapper {
          margin-left: 100px;
        }
        .left-sidebar {
          width: 100px;
          border-right: 1px solid #ddd;
        }
        .hide-menu {
          display: none;
        }
        .logo-img {
          display: none;
        }
        .logo-img-small {
          display: block;
        }
        .logo-img-small img {
          width: 55px;
        }
      }

      @media (max-width: 1200px) {
        .bd-wrapper {
          margin-left: 10px;
        }
        .left-sidebar {
          width: 270px;
          border-right: 1px solid #ddd;
        }
        .hide-menu {
          display: block;
        }
        .logo-img {
          display: block;
        }
        .logo-img-small {
          display: none;
        }
      }
      @media (min-width: 900px) {
        tbody,
        thead {
          text-wrap: nowrap;
        }
      }
      @media (min-width: 1200px) {
        .header {
          width: calc(100% - 100px) !important;
        }
        @media (min-width: 2850px) {
          .bd-wrapper {
            margin-left: 270px;
          }
          .header {
            width: calc(100% - 270px) !important;
          }
        }
      }
    </style>
  </head>

  <body>
    <!--  Body Wrapper -->
    <div
      class="page-wrapper"
      id="main-wrapper"
      data-layout="vertical"
      data-navbarbg="skin6"
      data-sidebartype="full"
      data-sidebar-position="fixed"
      data-header-position="fixed"
    >
      <!-- Sidebar Start -->
      <aside class="left-sidebar background">
        <!-- Sidebar scroll-->
        <div>
          <div
            class="brand-logo d-flex align-items-center justify-content-between"
          >
            <div class="text-nowrap logo-img">
              <img src="assets/images/logos/dark-logo.png" width="180" alt="" />
            </div>
            <div class="text-nowrap logo-img-small">
              <img
                src="assets/images/logos/favicon.png"
                id="togl-side-btn"
                width="180"
                alt="icon"
                style="cursor: pointer"
              />
            </div>

            <div
              class="close-btn d-xl-none d-block sidebartoggler cursor-pointer"
              id="sidebarCollapse"
            >
              <i class="ti ti-x fs-8"></i>
            </div>
          </div>
          <!-- Sidebar navigation-->
          <nav class="sidebar-nav scroll-sidebar" data-simplebar="">
            <ul id="sidebarnav">
              <li class="nav-small-cap">
                <i class="ti ti-dots nav-small-cap-icon fs-4"></i>
                <span class="hide-menu">Логістика</span>
              </li>
              <li class="sidebar-item">
                <a
                  class="sidebar-link"
                  href="./import-export.html"
                  aria-expanded="false"
                >
                  <span>
                    <i class="ti ti-layout-dashboard"></i>
                  </span>
                  <span class="hide-menu">Імпорт-експорт</span>
                </a>
              </li>
              <li class="sidebar-item">
                <a
                  class="sidebar-link"
                  href="./notebook.html"
                  aria-expanded="false"
                >
                  <span>
                    <i class="ti ti-notebook"></i>
                  </span>
                  <span class="hide-menu">Зошит</span>
                </a>
              </li>
            </ul>
          </nav>
          <!-- End Sidebar navigation -->
        </div>
        <!-- End Sidebar scroll-->
      </aside>
      <!--  Sidebar End -->
      <!--  Main wrapper -->
      <div class="bd-wrapper">
        <!--  Header Start -->
        <header class="app-header header background">
          <nav class="navbar navbar-expand-lg navbar-light">
            <ul class="navbar-nav">
              <li class="nav-item d-block d-xl-none">
                <a
                  class="nav-link sidebartoggler nav-icon-hover"
                  id="headerCollapse"
                  href="javascript:void(0)"
                >
                  <i class="ti ti-menu-2"></i>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link nav-icon-hover" href="javascript:void(0)">
                  <i class="ti ti-bell-ringing"></i>
                  <div class="notification bg-primary rounded-circle"></div>
                </a>
              </li>
            </ul>
            <div
              class="navbar-collapse justify-content-end px-0"
              id="navbarNav"
            >
              <ul
                class="navbar-nav flex-row ms-auto align-items-center justify-content-end"
              >
                <li class="nav-item dropdown">
                  <a
                    class="nav-link nav-icon-hover"
                    href="javascript:void(0)"
                    id="drop2"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                  >
                    <img
                      src="assets/images/profile/user-1.jpg"
                      alt=""
                      width="35"
                      height="35"
                      class="rounded-circle"
                    />
                  </a>
                  <div
                    class="dropdown-menu dropdown-menu-end dropdown-menu-animate-up"
                    aria-labelledby="drop2"
                  >
                    <div class="message-body">
                      <a class="d-flex align-items-center gap-2 dropdown-item">
                        <i class="ti ti-user fs-6"></i>
                        <p class="mb-0 fs-3">Мій Профіль</p>
                      </a>
                      <a class="d-flex align-items-center gap-2 dropdown-item">
                        <i class="ti ti-list-check fs-6"></i>
                        <p class="mb-0 fs-3">Мої Задачі</p>
                      </a>
                      <a
                        href="javascript:void(0)"
                        class="d-flex align-items-center gap-2 dropdown-item"
                        data-bs-toggle="modal"
                        data-bs-target="#settingsModal"
                      >
                        <i class="ti ti-settings fs-6"></i>
                        <p class="mb-0 fs-3">Мої Налаштування</p>
                      </a>
                      <form th:action="@{/logout}" method="post">
                        <input
                          class="btn btn-outline-primary mx-3 mt-2 d-block"
                          type="submit"
                          value="Вийти з системи"
                        />
                      </form>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </nav>
        </header>

        <!--  Header End -->

        <div class="container-fluid background">
          <form
            action="#"
            th:action="@{/transportation-details/add}"
            th:object="${transportation}"
            method="post"
          >
            <!--  Row 1 -->
            <div class="row">
              <!--  code input -->
              <div
                class="col d-flex align-items-strech"
                style="margin-top: 75px"
              >
                <div class="card w-100 background">
                  <div class="card-body background">
                    <div
                      class="d-sm-flex d-block align-items-center justify-content-between mb-9"
                    >
                      <div class="mb-5 mb-sm-5 fle">
                        <h5 class="card-title fw-semibold">
                          Нове завантаження
                        </h5>
                      </div>
                      <div
                        class="accordion"
                        id="accordionExample"
                        style="
                          position: absolute;
                          z-index: 2;
                          top: 65px;
                          left: 0;
                          width: calc(100% - 50px);
                          margin-left: 30px;
                          margin-right: 20px;
                        "
                      >
                        <div class="accordion-item">
                          <h2 class="accordion-header">
                            <button
                              class="accordion-button collapsed text-center background"
                              type="button"
                              data-bs-toggle="collapse"
                              data-bs-target="#collapseThree"
                              aria-expanded="false"
                              aria-controls="collapseThree"
                            >
                              <i class="ti ti-hourglass-low fs-6 me-2"></i>
                              Історія змін
                            </button>
                          </h2>
                          <div
                            id="collapseThree"
                            class="accordion-collapse collapse"
                            data-bs-parent="#accordionExample"
                          >
                            <div class="accordion-body">
                              <p>
                                <i
                                  class="ti ti-circle-check fs-6 me-2"
                                  style="color: green"
                                ></i>
                                10:57 10.12.2023 Антон Самусь створив нове
                                замовлення
                              </p>
                              <p>
                                <i
                                  class="ti ti-pencil fs-6 me-2"
                                  style="color: blue"
                                ></i>
                                10.12.2023 10:57 Антон Самусь відредагував
                                замовлення
                              </p>
                              <p>
                                <i
                                  class="ti ti-truck fs-6 me-2"
                                  style="color: green"
                                ></i>
                                10.12.2023 10:57 Антон Фесенюк обрав екіпаж
                              </p>
                              <p>
                                <i
                                  class="ti ti-truck-off fs-6 me-2"
                                  style="color: red"
                                ></i>
                                10.12.2023 10:57 Антон Улицький відмінив екіпаж
                              </p>
                              <p>
                                <i
                                  class="ti ti-truck-return fs-6 me-2"
                                  style="color: blue"
                                ></i>
                                10:57 10.12.2023 Антон Самусь змінив екіпаж на
                                інший
                              </p>
                              <p>
                                <i
                                  class="ti ti-message-circle-2 fs-6 me-2"
                                  style="color: gray"
                                ></i>
                                10.12.2023 10:57 Антон Самусь додав коментар
                              </p>
                              <p>
                                <i
                                  class="ti ti-repeat fs-6 me-2"
                                  style="color: blue"
                                ></i>
                                10.12.2023 10:57 Антон Фесенюк переніс
                                замовлення
                              </p>
                              <p>
                                <i
                                  class="ti ti-xbox-x fs-6 me-2"
                                  style="color: red"
                                ></i>
                                10.12.2023 10:57 Антон Улицький відмінив
                                замовлення
                              </p>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <input type="hidden" th:field="*{nus}" />

                    <!-- First Line: Input Select -->
                    <div class="row mb-3">
                      <div class="col-md-6">
                        <div class="card p-4 background">
                          <label class="mb-3">
                            Клієнт
                            <select
                              id="select-client"
                              class="form-select"
                              th:field="*{clientCompanyFromSelector}"
                            >
                              <option
                                th:each="company: ${clientCompanies}"
                                th:value="${company.ndov}"
                                th:text="${company.nur}"
                                th:selected="${company.ndov.equals(transportation.clientCompany.ndov)}"
                              >
                                Fererro (оплата 45 календарних днів по
                                виставленню інвойсу, ліміт 300000 грн)
                              </option>
                            </select>
                            <span
                              hidden="hidden"
                              id="country-current-val"
                              th:text="${selectedCompany != null && selectedCompany.clientDto != null ? selectedCompany.clientDto.ndov : ''}"
                            ></span>
                          </label>
                          <p class="fw-semibold mb-2" style="color: #0a58ca">
                            АГРОТЕП
                          </p>
                          <div class="row">
                            <span
                              th:text="${selectedCompany.agtSummary}"
                              class="text-primary col-6"
                            >
                              Кредитний ліміт 4000000;
                            </span>
                            <span class="text-danger col-6">
                              борг на зараз 3527944.165872
                            </span>
                          </div>
                          <div class="table-responsive">
                            <table class="table text-nowrap mb-0 align-middle">
                              <tbody class="border-bottom">
                                <tr>
                                  <th>у ДР</th>
                                  <th>Договір</th>
                                  <th>Тип</th>
                                  <th>Закінчення</th>
                                  <th>Коментарі</th>
                                </tr>
                                <tr
                                  th:each="contract: ${selectedCompany.contractsAgt}"
                                >
                                  <td class="border-bottom-0">
                                    <label><input type="radio" /></label>
                                  </td>
                                  <td
                                    class="border-bottom-0"
                                    th:text="${contract.enterNo}"
                                  >
                                    -
                                  </td>
                                  <td
                                    class="border-bottom-0"
                                    th:text="${contract.contractType}"
                                  >
                                    Міжнародний
                                  </td>
                                  <td
                                    class="border-bottom-0"
                                    th:text="${contract.finishDateStr}"
                                  >
                                    31.12.2021
                                  </td>
                                  <td
                                    class="border-bottom-0"
                                    th:text="${contract.comments}"
                                  >
                                    <svg
                                      xmlns="http://www.w3.org/2000/svg"
                                      class="icon icon-tabler icon-tabler-message"
                                      width="24"
                                      height="24"
                                      viewBox="0 0 24 24"
                                      stroke-width="2"
                                      stroke="currentColor"
                                      fill="none"
                                      stroke-linecap="round"
                                      stroke-linejoin="round"
                                      data-bs-trigger="hover"
                                      data-bs-toggle="popover"
                                      data-bs-placement="bottom"
                                      data-bs-content="В договорі не вказані компенсації за
                                        простій, обговорювати це в заявках."
                                    >
                                      <path
                                        stroke="none"
                                        d="M0 0h24v24H0z"
                                        fill="none"
                                      />
                                      <path d="M8 9h8" />
                                      <path d="M8 13h6" />
                                      <path
                                        d="M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"
                                      />
                                    </svg>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                          <p
                            class="fw-semibold mb-2 mt-3"
                            style="color: #dc3545"
                          >
                            ВП-ТРАНС
                          </p>
                          <div class="row">
                            <span
                              th:text="${selectedCompany.agtSummary}"
                              class="text-primary col-6"
                            >
                              Кредитний ліміт 4000000;
                            </span>
                            <span class="text-danger col-6">
                              борг на зараз 3527944.165872
                            </span>
                          </div>
                          <div class="table-responsive">
                            <table class="table text-nowrap mb-0 align-middle">
                              <tbody class="border-bottom">
                                <tr>
                                  <th>у ДР</th>
                                  <th>Договір</th>
                                  <th>Тип</th>
                                  <th>Закінчення</th>
                                  <th>Коментарі</th>
                                </tr>
                                <tr
                                  th:each="contract: ${selectedCompany.contractsAgt}"
                                >
                                  <td class="border-bottom-0">
                                    <label><input type="radio" /></label>
                                  </td>
                                  <td
                                    class="border-bottom-0"
                                    th:text="${contract.enterNo}"
                                  >
                                    -
                                  </td>
                                  <td
                                    class="border-bottom-0"
                                    th:text="${contract.contractType}"
                                  >
                                    Міжнародний
                                  </td>
                                  <td
                                    class="border-bottom-0"
                                    th:text="${contract.finishDateStr}"
                                  >
                                    31.12.2021
                                  </td>
                                  <td
                                    class="border-bottom-0"
                                    th:text="${contract.comments}"
                                  >
                                    <svg
                                      xmlns="http://www.w3.org/2000/svg"
                                      class="icon icon-tabler icon-tabler-message"
                                      width="24"
                                      height="24"
                                      viewBox="0 0 24 24"
                                      stroke-width="2"
                                      stroke="currentColor"
                                      fill="none"
                                      stroke-linecap="round"
                                      stroke-linejoin="round"
                                      data-bs-trigger="hover"
                                      data-bs-toggle="popover"
                                      data-bs-placement="bottom"
                                      data-bs-content="В договорі не вказані компенсації за
                                        простій, обговорювати це в заявках."
                                    >
                                      <path
                                        stroke="none"
                                        d="M0 0h24v24H0z"
                                        fill="none"
                                      />
                                      <path d="M8 9h8" />
                                      <path d="M8 13h6" />
                                      <path
                                        d="M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"
                                      />
                                    </svg>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                      <div class="card p-4 col-md-6 row-gap-2 background">
                        <!-- <h5 class="card-title fw-semibold mb-3">Вантаж</h5> -->
                        <div class="row">
                          <div class="col-md-4">
                            <label for="cargo-name">Вантаж</label>
                            <input
                              th:field="*{cargo}"
                              type="text"
                              id="cargo-name"
                              class="form-control"
                            />
                          </div>
                          <div class="col-md-4">
                            <label for="cargo-weight">Вага, т</label>
                            <input
                              th:field="*{cargoWeightTons}"
                              type="text"
                              id="cargo-weight"
                              class="form-control"
                            />
                          </div>
                          <div class="col-md-4">
                            <label for="select-truck-type">Тип кузова</label>
                            <select
                              id="select-truck-type"
                              class="form-select"
                              th:field="*{typeOfTruck}"
                            >
                              <option value="option0">---</option>
                              <option value="реф">реф</option>
                              <option value="тент">тент</option>
                              <option value="2х-ярусник">2х-ярусник</option>
                            </select>
                          </div>
                        </div>
                        <div class="row align-items-center">
                          <div class="col-md-4">
                            <label for="temperature-min"
                              >мінімальна температура</label
                            >
                            <input
                              th:field="*{temperatureMin}"
                              type="number"
                              id="temperature-min"
                              class="form-control"
                            />
                          </div>
                          <div class="col-md-4">
                            <label for="temperature-max"
                              >максимальна температура</label
                            >
                            <input
                              th:field="*{temperatureMax}"
                              type="number"
                              id="temperature-max"
                              class="form-control"
                            />
                          </div>
                          <div class="col-md-4">
                            <label
                              class="form-check-label"
                              for="is-cargo-thermal-printer-needed"
                            >
                              <input
                                th:field="*{isCargoThermalPrinterNeeded}"
                                type="checkbox"
                                class="form-check-input"
                                id="is-cargo-thermal-printer-needed"
                              />
                              Потрібен роздрук
                            </label>
                          </div>
                        </div>
                        <div class="row align-items-center">
                          <div class="col-md-4">
                            <label for="freight">Фрахт</label>
                            <input
                              th:field="*{freight}"
                              type="number"
                              id="freight"
                              class="form-control"
                            />
                          </div>
                          <div class="col-md-4">
                            <label for="currency">Валюта</label>
                            <select
                              th:field="*{currency}"
                              id="currency"
                              class="form-select"
                            >
                              <option value="">---</option>
                              <option value="євро">євро</option>
                              <option value="грн">грн</option>
                            </select>
                          </div>
                          <div class="col-md-4">
                            <label
                              class="form-check-label"
                              for="is-payment-in-cash"
                            >
                              <input
                                th:field="*{isPaymentInCash}"
                                type="checkbox"
                                class="form-check-input me-2"
                                id="is-payment-in-cash"
                              />
                              Готівка
                            </label>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col">
                            <div class="form-check">
                              <input
                                th:field="*{isCargoTir}"
                                type="checkbox"
                                class="form-check-input"
                                id="is-cargo-tir"
                              />
                              <label class="form-check-label" for="is-cargo-tir"
                                >TIR</label
                              >
                            </div>
                          </div>
                          <div class="col">
                            <div class="form-check">
                              <input
                                th:field="*{isCargoAdr}"
                                type="checkbox"
                                class="form-check-input"
                                id="is-cargo-adr"
                              />
                              <label
                                class="form-check-label text-danger"
                                for="is-cargo-adr"
                                >ADR</label
                              >
                            </div>
                          </div>
                          <div class="col">
                            <div class="form-check">
                              <input
                                th:field="*{isCargoAdr1}"
                                type="checkbox"
                                class="form-check-input"
                                id="is-cargo-adr1"
                              />
                              <label
                                class="form-check-label text-danger"
                                for="is-cargo-adr1"
                                >ADR1</label
                              >
                            </div>
                          </div>
                          <div class="col">
                            <div class="form-check">
                              <input
                                th:field="*{isCargoCustomsServicesPaid}"
                                type="checkbox"
                                class="form-check-input"
                                id="is-cargo-customs-services-paid"
                              />
                              <label
                                class="form-check-label"
                                for="is-cargo-customs-services-paid"
                              >
                                мито
                              </label>
                            </div>
                          </div>
                          <div class="col">
                            <div class="form-check">
                              <input
                                th:field="*{isPrinted}"
                                type="checkbox"
                                class="form-check-input"
                                id="is-printed"
                              />
                              <label class="form-check-label" for="is-printed"
                                >Роздруківка</label
                              >
                            </div>
                          </div>
                          <div class="col">
                            <div class="form-check">
                              <input
                                th:field="*{isCargoStickers}"
                                type="checkbox"
                                class="form-check-input"
                                id="is-cargo-stickers"
                              />
                              <label
                                class="form-check-label"
                                for="is-cargo-stickers"
                                >Стікери</label
                              >
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-4">
                            <label for="border-crossing-point"
                              >Погран. перехід</label
                            >
                            <select
                              id="border-crossing-point"
                              class="form-select"
                              th:field="*{borderCrossingPoint}"
                            >
                              <option
                                th:each="p: ${borderCrossingPoints}"
                                th:value="${p.ndov}"
                                th:text="${p.ndov}"
                              ></option>
                            </select>
                          </div>
                          <div class="col-md-4">
                            <label for="customer-application-no"
                              >Заявка замовника №</label
                            >
                            <input
                              th:field="*{customerApplicationNo}"
                              type="text"
                              id="customer-application-no"
                              class="form-control"
                            />
                          </div>
                          <div class="col-md-4">
                            <label for="customer-application-date">від</label>
                            <input
                              th:field="*{customerApplicationDateStr}"
                              type="date"
                              id="customer-application-date"
                              class="form-control"
                            />
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-12">
                            <label for="textarea1">Коментар</label>
                            <textarea
                              th:field="*{coordinatorComment}"
                              id="textarea1"
                              class="form-control"
                              rows="3"
                            ></textarea>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- Eighth Line: One Input Number, One Input Select, One Checkbox -->
                    <div class="" id="loadings">
                      <div class="row" th:each="loading, i: *{loadings}">
                        <div class="accordion col-md-6">
                          <div
                            class="accordion-item border-0 card p-4 background col-md-6 loading-form w-100"
                          >
                            <h2 class="accordion-header">
                              <button
                                class="background accordion-button shadow-none"
                                type="button"
                                data-bs-toggle="collapse"
                                data-bs-target="#id2"
                                aria-expanded="true"
                                aria-controls="id2"
                              >
                                <div class="card-title mb-9 fw-semibold">
                                  <span class="card-title">Завантаження</span>
                                  <span
                                    class="additional-values ms-2 me-2"
                                  ></span>
                                  <span class="delete-icon" title="Видалити">
                                    <svg
                                      xmlns="http://www.w3.org/2000/svg"
                                      width="16"
                                      height="16"
                                      fill="black"
                                      class="bi bi-trash"
                                      viewBox="0 0 16 16"
                                    >
                                      <path
                                        d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"
                                      ></path>
                                      <path
                                        d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"
                                      ></path>
                                    </svg>
                                  </span>
                                </div>
                              </button>
                            </h2>
                            <div
                              id="id2"
                              class="accordion-collapse collapse border-0 show"
                            >
                              <div class="accordion-body p-0">
                                <!-- First Line: Select Input, One Input Date, One Input Time -->
                                <div class="row mb-4">
                                  <label hidden="hidden">
                                    id
                                    <input
                                      type="number"
                                      name="loadings[0].id"
                                      class="form-control"
                                      id="loadings0.id"
                                      value=""
                                    />
                                  </label>
                                  <label class="col-md-3">
                                    №
                                    <input
                                      type="number"
                                      name="loadings[0].loadingNo"
                                      class="form-control loading-no"
                                      required=""
                                      min="1"
                                      id="loadings0.loadingNo"
                                      value="1"
                                    />
                                  </label>

                                  <label class="col-md-3">
                                    Тип
                                    <select
                                      name="loadings[0].loadingType"
                                      class="form-select loading-type"
                                      required=""
                                      id="loadings0.loadingType"
                                    >
                                      <option
                                        value="SIMPLE_LOADING"
                                        selected="selected"
                                      >
                                        Зав
                                      </option>
                                      <option value="COMPLEX_LOADING">
                                        ЗавЗам
                                      </option>
                                      <option value="SIMPLE_UNLOADING">
                                        Розв
                                      </option>
                                      <option value="COMPLEX_UNLOADING">
                                        РозвРозм
                                      </option>
                                    </select>
                                  </label>
                                  <label class="col-md-3">
                                    Дата
                                    <input
                                      type="date"
                                      name="loadings[0].loadingDate"
                                      class="form-control loading-date"
                                      required=""
                                      id="loadings0.loadingDate"
                                      value=""
                                    />
                                  </label>
                                  <label class="col-md-3">
                                    Час
                                    <input
                                      type="time"
                                      name="loadings[0].loadingTime"
                                      class="form-control loading-time"
                                      required=""
                                      id="loadings0.loadingTime"
                                      value="09:00:00"
                                    />
                                  </label>
                                </div>
                                <!-- First Line: Select Input, One Input Date, One Input Time -->
                                <div class="row mb-4">
                                  <label class="col-md-12">
                                    Пункт
                                    <input
                                      type="text"
                                      size="50"
                                      placeholder="Enter a location"
                                      autocomplete="off"
                                      runat="server"
                                      class="form-control loading-time autocomplete-input pac-target-input"
                                      required="required"
                                    />
                                  </label>
                                </div>
                                <!-- Second Line: One Input Text, One Select Input -->
                                <div class="row mb-4">
                                  <label class="col-md-4">
                                    Місто
                                    <input
                                      type="text"
                                      class="form-control loading-city city2"
                                      name="loadings[0].loadingCity"
                                      id="loadings0.loadingCity"
                                      value="ssss"
                                    />
                                  </label>
                                  <label class="col-md-4">
                                    Країна
                                    <input
                                      type="text"
                                      name="loadings[0].loadingCountry"
                                      class="form-control country"
                                      id="loadings0.loadingCountry"
                                      value=""
                                    />
                                  </label>
                                  <label class="col-md-4">
                                    Область
                                    <input
                                      type="text"
                                      name="loadings[0].loadingRegion"
                                      class="form-control region"
                                      id="loadings0.loadingRegion"
                                      value=""
                                    />
                                  </label>
                                </div>
                                <!-- Third Line: One Input Text, One Select Input -->
                                <div class="row mb-4">
                                  <label class="col-md-6">
                                    Пошт. код
                                    <input
                                      type="text"
                                      name="loadings[0].loadingCityPostalIndex"
                                      class="form-control postal_code"
                                      id="loadings0.loadingCityPostalIndex"
                                      value=""
                                    />
                                  </label>
                                  <label class="col-md-6">
                                    Адреса
                                    <input
                                      type="text"
                                      name="loadings[0].loadingAddress"
                                      class="form-control"
                                      id="loadings0.loadingAddress"
                                      value=""
                                    />
                                  </label>
                                </div>
                                <!-- Forth Line: One Input Text, One Select Input -->
                                <!-- Fifth Line: One Input Text, One Select Input -->
                                <div class="row">
                                  <label class="col-md-6">
                                    Широта
                                    <input
                                      type="text"
                                      class="form-control cityLat"
                                      name="loadings[0].loadingLatitude"
                                      id="loadings0.loadingLatitude"
                                      value=""
                                    />
                                  </label>
                                  <label class="col-md-6">
                                    Довгота
                                    <input
                                      type="text"
                                      class="form-control cityLng"
                                      name="loadings[0].loadingLongitude"
                                      id="loadings0.loadingLongitude"
                                      value=""
                                    />
                                  </label>
                                </div>
                                <div class="col-md-4">
                                  <button
                                    type="button"
                                    class="btn btn-light mt-2 rounded-circle p-2"
                                    value="add-loading"
                                    name="add-loading"
                                    style="display: none"
                                  >
                                    <svg
                                      xmlns="http://www.w3.org/2000/svg"
                                      class="icon icon-tabler icon-tabler-plus"
                                      width="24"
                                      height="24"
                                      viewBox="0 0 24 24"
                                      stroke-width="2"
                                      stroke="currentColor"
                                      fill="none"
                                      stroke-linecap="round"
                                      stroke-linejoin="round"
                                    >
                                      <path
                                        stroke="none"
                                        d="M0 0h24v24H0z"
                                        fill="none"
                                      ></path>
                                      <path d="M12 5l0 14"></path>
                                      <path d="M5 12l14 0"></path>
                                    </svg>
                                  </button>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="accordion col-md-6">
                          <div
                            class="w-100 card p-4 col-md-6 loading-form accordion-item background border-0"
                          >
                            <h2 class="accordion-header">
                              <button
                                class="background accordion-button shadow-none"
                                type="button"
                                data-bs-toggle="collapse"
                                data-bs-target="#id1"
                                aria-expanded="true"
                                aria-controls="id1"
                              >
                                <div class="card-title mb-9 fw-semibold">
                                  <span class="card-title">Завантаження</span>
                                  <span
                                    class="additional-values ms-2 me-2"
                                  ></span>
                                  <span class="delete-icon" title="Видалити">
                                    <svg
                                      xmlns="http://www.w3.org/2000/svg"
                                      width="16"
                                      height="16"
                                      fill="black"
                                      class="bi bi-trash"
                                      viewBox="0 0 16 16"
                                    >
                                      <path
                                        d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"
                                      ></path>
                                      <path
                                        d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"
                                      ></path>
                                    </svg>
                                  </span>
                                </div>
                              </button>
                            </h2>
                            <div
                              id="id1"
                              class="accordion-collapse collapse border-0 show"
                            >
                              <div class="accordion-body p-0">
                                <!-- First Line: Select Input, One Input Date, One Input Time -->
                                <div class="row mb-4">
                                  <label hidden="hidden">
                                    id
                                    <input
                                      type="number"
                                      name="loadings[0].id"
                                      class="form-control"
                                      id="loadings0.id"
                                      value=""
                                    />
                                  </label>
                                  <label class="col-md-3">
                                    №
                                    <input
                                      type="number"
                                      name="loadings[0].loadingNo"
                                      class="form-control loading-no"
                                      required=""
                                      min="1"
                                      id="loadings0.loadingNo"
                                      value="1"
                                    />
                                  </label>

                                  <label class="col-md-3">
                                    Тип
                                    <select
                                      name="loadings[0].loadingType"
                                      class="form-select loading-type"
                                      required=""
                                      id="loadings0.loadingType"
                                    >
                                      <option
                                        value="SIMPLE_LOADING"
                                        selected="selected"
                                      >
                                        Зав
                                      </option>
                                      <option value="COMPLEX_LOADING">
                                        ЗавЗам
                                      </option>
                                      <option value="SIMPLE_UNLOADING">
                                        Розв
                                      </option>
                                      <option value="COMPLEX_UNLOADING">
                                        РозвРозм
                                      </option>
                                    </select>
                                  </label>
                                  <label class="col-md-3">
                                    Дата
                                    <input
                                      type="date"
                                      name="loadings[0].loadingDate"
                                      class="form-control loading-date"
                                      required=""
                                      id="loadings0.loadingDate"
                                      value=""
                                    />
                                  </label>
                                  <label class="col-md-3">
                                    Час
                                    <input
                                      type="time"
                                      name="loadings[0].loadingTime"
                                      class="form-control loading-time"
                                      required=""
                                      id="loadings0.loadingTime"
                                      value="09:00:00"
                                    />
                                  </label>
                                </div>
                                <!-- First Line: Select Input, One Input Date, One Input Time -->
                                <div class="row mb-4">
                                  <label class="col-md-12">
                                    Пункт
                                    <input
                                      type="text"
                                      size="50"
                                      placeholder="Enter a location"
                                      autocomplete="off"
                                      runat="server"
                                      class="form-control loading-time autocomplete-input pac-target-input"
                                      required="required"
                                    />
                                  </label>
                                </div>
                                <!-- Second Line: One Input Text, One Select Input -->
                                <div class="row mb-4">
                                  <label class="col-md-4">
                                    Місто
                                    <input
                                      type="text"
                                      class="form-control loading-city city2"
                                      name="loadings[0].loadingCity"
                                      id="loadings0.loadingCity"
                                      value=""
                                    />
                                  </label>
                                  <label class="col-md-4">
                                    Країна
                                    <input
                                      type="text"
                                      name="loadings[0].loadingCountry"
                                      class="form-control country"
                                      id="loadings0.loadingCountry"
                                      value=""
                                    />
                                  </label>
                                  <label class="col-md-4">
                                    Область
                                    <input
                                      type="text"
                                      name="loadings[0].loadingRegion"
                                      class="form-control region"
                                      id="loadings0.loadingRegion"
                                      value=""
                                    />
                                  </label>
                                </div>
                                <!-- Third Line: One Input Text, One Select Input -->
                                <div class="row mb-4">
                                  <label class="col-md-6">
                                    Пошт. код
                                    <input
                                      type="text"
                                      name="loadings[0].loadingCityPostalIndex"
                                      class="form-control postal_code"
                                      id="loadings0.loadingCityPostalIndex"
                                      value=""
                                    />
                                  </label>
                                  <label class="col-md-6">
                                    Адреса
                                    <input
                                      type="text"
                                      name="loadings[0].loadingAddress"
                                      class="form-control"
                                      id="loadings0.loadingAddress"
                                      value=""
                                    />
                                  </label>
                                </div>
                                <!-- Forth Line: One Input Text, One Select Input -->
                                <!-- Fifth Line: One Input Text, One Select Input -->
                                <div class="row">
                                  <label class="col-md-6">
                                    Широта
                                    <input
                                      type="text"
                                      class="form-control cityLat"
                                      name="loadings[0].loadingLatitude"
                                      id="loadings0.loadingLatitude"
                                      value=""
                                    />
                                  </label>
                                  <label class="col-md-6">
                                    Довгота
                                    <input
                                      type="text"
                                      class="form-control cityLng"
                                      name="loadings[0].loadingLongitude"
                                      id="loadings0.loadingLongitude"
                                      value=""
                                    />
                                  </label>
                                </div>
                                <div class="col-md-4">
                                  <button
                                    type="button"
                                    class="btn btn-light mt-2 rounded-circle p-2"
                                    value="add-loading"
                                    name="add-loading"
                                    style="display: none"
                                  >
                                    <svg
                                      xmlns="http://www.w3.org/2000/svg"
                                      class="icon icon-tabler icon-tabler-plus"
                                      width="24"
                                      height="24"
                                      viewBox="0 0 24 24"
                                      stroke-width="2"
                                      stroke="currentColor"
                                      fill="none"
                                      stroke-linecap="round"
                                      stroke-linejoin="round"
                                    >
                                      <path
                                        stroke="none"
                                        d="M0 0h24v24H0z"
                                        fill="none"
                                      ></path>
                                      <path d="M12 5l0 14"></path>
                                      <path d="M5 12l14 0"></path>
                                    </svg>
                                  </button>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div
                          class="col-md-6 d-flex justify-content-between ps-0"
                          id="buttons-block"
                        >
                          <button
                            style="max-height: 50px"
                            type="button"
                            class="btn btn-primary m-1 text-nowrap"
                            data-bs-trigger="hover"
                            data-bs-toggle="popover"
                            data-bs-placement="top"
                            data-bs-content="Наразі не активна"
                          >
                            Додати в ДР
                          </button>
                          <button
                            type="submit"
                            class="btn btn-success m-1"
                            style="max-height: 50px"
                            th:value="submit"
                            th:name="submit"
                          >
                            Розмістити перевезення
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!--  code input -->
            </div>
          </form>
        </div>
        <div
          class="modal fade"
          id="settingsModal"
          tabindex="-1"
          aria-labelledby="settingsModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog" style="max-width: 700px">
            <div class="modal-content">
              <div class="modal-header">
                <h4 class="modal-title fs-7" id="settingsModalLabel">
                  Налаштування інтерфейсу
                </h4>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>
              <div class="modal-body row">
                <div class="font-size-block col-sm-6 text-center mt-3">
                  <h5 class="mb-3">Розмір шрифту</h5>
                  <label for="fs-2" class="m-2"
                    >1<input
                      class="ms-1"
                      type="radio"
                      name="font-size"
                      id="fs-2"
                      value="fs-2"
                  /></label>
                  <label for="fs-3" class="m-2"
                    >2<input
                      class="ms-1"
                      checked
                      type="radio"
                      name="font-size"
                      id="fs-3"
                      value="fs-3"
                  /></label>
                  <label for="fs-4" class="m-2"
                    >3<input
                      class="ms-1"
                      type="radio"
                      name="font-size"
                      id="fs-4"
                      value="fs-4"
                  /></label>
                  <label for="fs-5" class="m-2"
                    >4<input
                      class="ms-1"
                      type="radio"
                      name="font-size"
                      id="fs-5"
                      value="fs-5"
                  /></label>
                  <label for="fs-6" class="m-2"
                    >5<input
                      class="ms-1"
                      type="radio"
                      name="font-size"
                      id="fs-6"
                      value="fs-6"
                  /></label>
                </div>
                <div class="fotn-weight-block col-sm-6 text-center mt-3">
                  <h5 class="mb-3">Насиченість шрифту</h5>
                  <label for="font-weight-1" class="m-2"
                    >тонкий<input
                      class="ms-1"
                      type="radio"
                      name="font-weight"
                      id="font-weight-1"
                      value="fw-lighter"
                  /></label>
                  <label for="font-weight-2" class="m-2"
                    >стандартний<input
                      class="ms-1"
                      checked
                      type="radio"
                      name="font-weight"
                      id="font-weight-2"
                      value="fw-normal"
                  /></label>
                  <label for="font-weight-3" class="m-2"
                    >жирний<input
                      class="ms-1"
                      type="radio"
                      name="font-weight"
                      id="font-weight-3"
                      value="fw-bolder"
                  /></label>
                </div>
                <div class="background-variants-block mt-3 text-center">
                  <h5 class="mb-3">Налаштування кольору фону</h5>
                  <label for="background-blue" class="m-2"
                    >синій<input
                      class="ms-1"
                      type="radio"
                      name="background-variant"
                      id="background-blue"
                  /></label>
                  <label for="background-green" class="m-2"
                    >зелений<input
                      class="ms-1"
                      type="radio"
                      name="background-variant"
                      id="background-green"
                  /></label>
                  <label for="background-red" class="m-2"
                    >червоний<input
                      class="ms-1"
                      type="radio"
                      name="background-variant"
                      id="background-red"
                  /></label>
                  <label for="background-lightgrey" class="m-2"
                    >світлосірий<input
                      class="ms-1"
                      type="radio"
                      name="background-variant"
                      id="background-lightgrey"
                  /></label>
                  <label for="background-darkgrey" class="m-2"
                    >темносірий<input
                      class="ms-1"
                      type="radio"
                      name="background-variant"
                      id="background-darkgrey"
                  /></label>
                  <label for="background-brown" class="m-2"
                    >коричневий<input
                      class="ms-1"
                      type="radio"
                      name="background-variant"
                      id="background-brown"
                  /></label>
                  <label for="background-violet" class="m-2"
                    >фіолетовий<input
                      class="ms-1"
                      type="radio"
                      name="background-variant"
                      id="background-violet"
                  /></label>
                  <label for="background-default" class="m-2"
                    >стандартний<input
                      class="ms-1"
                      checked
                      type="radio"
                      name="background-variant"
                      id="background-default"
                  /></label>
                </div>
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-bs-dismiss="modal"
                >
                  Close
                </button>
                <button type="button" class="btn btn-primary">
                  Save changes
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="assets/js/settingsStyle.js"></script>
    <script>
      var popoverTriggerList = [].slice.call(
        document.querySelectorAll('[data-bs-toggle="popover"]')
      );
      var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
        return new bootstrap.Popover(popoverTriggerEl);
      });
    </script>
    <script
      type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAWaYJ47zp6qO2N4lCefOKWqvC1Il3VdQE&libraries=places&language=uk"
    ></script>

    <script>
      function initializeAutocomplete(inputElement) {
        var circle = new google.maps.Circle({
          center: new google.maps.LatLng(49.998526, 36.299138),
          radius: 4000000,
        });

        var options = {
          strictBounds: true,
          bounds: circle.getBounds(),
          types: ['(cities)'],
        };
        var autocomplete = new google.maps.places.Autocomplete(
          inputElement,
          options
        );

        google.maps.event.addListener(
          autocomplete,
          'place_changed',
          function () {
            var place = autocomplete.getPlace();
            console.log(place);
            var cardElement = inputElement.closest('.card');
            cardElement.querySelector('.city2').value = place.name;
            cardElement.querySelector('.cityLat').value =
              place.geometry.location.lat();
            cardElement.querySelector('.cityLng').value =
              place.geometry.location.lng();

            // Additional information
            var addressComponents = place.address_components;
            for (var i = 0; i < addressComponents.length; i++) {
              var component = addressComponents[i];
              var types = component.types;
              for (var j = 0; j < types.length; j++) {
                if (types[j] == 'country') {
                  cardElement.querySelector('.country').value =
                    component.short_name;
                } else if (types[j] == 'administrative_area_level_1') {
                  cardElement.querySelector('.region').value =
                    component.long_name;
                } else if (types[j] == 'postal_code') {
                  cardElement.querySelector('.postal_code').value =
                    component.long_name;
                }
              }
            }
          }
        );
      }

      window.onload = function () {
        var inputElements = document.querySelectorAll('.autocomplete-input');
        inputElements.forEach(function (inputElement) {
          initializeAutocomplete(inputElement);
        });
      };
    </script>
    <script>
      var accordionButtons = document.querySelectorAll('.accordion-button');
      for (var i = 1; i < accordionButtons.length; i++) {
        var button = accordionButtons[i];
        var form = button.closest('.accordion-item');
        const dib = form.querySelector('.accordion-collapse');

        var loadingDateValue = form.querySelector('.loading-date').value;
        var loadingCityValue = form.querySelector('.city2').value;
        var loadingCountryValue = form.querySelector('.country').value;
        if (loadingCityValue) {
          dib.classList.remove('show');
          button.classList.add('collapsed');
          const span = button.querySelector('.additional-values');
          const data = button.closest('.accordion-item');
          const date = data.querySelector('.loading-date').value;
          const city = data.querySelector('.city2').value;
          const country = data.querySelector('.country').value;

          span.innerHTML = `
                <span> ${date} ${city}, ${country}</span>
            `;
        }
        button.addEventListener('click', function (event) {
          var additionalValuesSpan =
            event.delegateTarget.querySelector('.additional-values'); // Знаходимо span в межах цієї форми
          if (event.delegateTarget.classList.contains('collapsed')) {
            const data = event.target.closest('.accordion-item');
            const date = data.querySelector('.loading-date').value;
            const city = data.querySelector('.city2').value;
            const country = data.querySelector('.country').value;

            additionalValuesSpan.innerHTML = `
                <span> ${date} ${city}, ${country}</span>
            `;
          } else {
            additionalValuesSpan.innerHTML = '';
          }
        });
      }
    </script>
  </body>
</html>
